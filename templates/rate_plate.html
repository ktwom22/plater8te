{% extends "base.html" %}

{% block title %}Rate Plate{% endblock %}

{% block content %}
<div class="container my-4">
    <h2 class="text-center mb-3">Rate "{{ plate.name }}"</h2>

    {% if plate.image_url %}
    <div class="text-center mb-3">
        <img src="{{ url_for('static', filename=plate.image_url.split('static/')[1]) }}"
             class="img-fluid rounded shadow-sm" style="max-height: 400px; object-fit: cover;"
             alt="{{ plate.name }}">
    </div>
    {% endif %}

    {% if plate.restaurant %}
    <p class="text-center text-muted mb-4">
        ğŸ“ {{ plate.restaurant.name }}{% if plate.restaurant.address %} - {{ plate.restaurant.address }}{% endif %}
    </p>
    {% endif %}

    <form method="POST" class="mx-auto" style="max-width: 500px;">
        <div class="mb-3">
            <label for="rating" class="form-label">Your rating (1-5):</label>
            <input type="number" name="rating" id="rating" min="1" max="5"
                   value="{{ user_plate.rated or '' }}" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Add a description:</label>
            <textarea name="description" id="description" class="form-control" rows="3">{{ user_plate.description or '' }}</textarea>
        </div>
        <button type="submit" class="btn btn-success w-100">Submit</button>
    </form>
</div>
{% endblock %}
